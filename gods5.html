<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MƒÅori Atua Flashcards</title>
  <style>
    :root{
      --bg:#fbfbfa; --card-bg:#fff; --accent:#0b6d6b; --muted:#444;
      --shadow:0 10px 30px rgba(10,10,10,0.12);
    }
    *{box-sizing:border-box}
    body{font-family:Poppins,Inter,system-ui; margin:0; background:linear-gradient(180deg,#f3fffef0,#f8fbff); color:#111; height:100vh; display:flex; flex-direction:column; align-items:center; justify-content:center; overflow:hidden}

    .stage{width:100vw; height:100vh; display:flex; flex-direction:column; align-items:center; justify-content:center; position:relative}

    .controls{display:flex; gap:8px; margin-bottom:12px; z-index:3}
    .btn{background:var(--accent); color:white; border:none; padding:12px 16px; border-radius:10px; font-weight:600; cursor:pointer; font-size:clamp(14px,1.5vw,18px)}
    .btn.secondary{background:transparent;color:var(--accent); border:2px solid var(--accent)}

    .card-wrap{width:80vw; height:80vh; max-width:1200px; max-height:1000px; perspective:1500px; position:relative; z-index:1}
    .card{width:100%; height:100%; border-radius:18px; background:var(--card-bg); box-shadow:var(--shadow); position:relative; transform-style:preserve-3d; transition:transform 600ms cubic-bezier(.2,.9,.3,.95)}

    .card.is-flipped{transform:rotateY(180deg)}

    .face{position:absolute; inset:0; backface-visibility:hidden; padding:32px; display:flex; flex-direction:column; gap:16px; overflow-wrap:break-word}
    .front{align-items:flex-start; justify-content:center}
    .back{transform:rotateY(180deg); align-items:flex-start; justify-content:center; display:flex; flex-direction:column; gap:12px}

    h1.atua{font-size:clamp(36px,7vw,60px); margin:0; letter-spacing:0.6px}
    .symbol{font-size:clamp(40px,8vw,72px); opacity:0.95}
    .quote{font-style:italic; color:var(--muted); font-size:clamp(16px,2vw,22px)}

    .meta{display:flex; gap:18px; flex-wrap:wrap; margin-top:8px}
    .meta .pill{background:#f2f7f6;padding:10px 14px;border-radius:999px;font-weight:600;color:#123;font-size:clamp(14px,1.8vw,18px)}

    .back-line{display:flex; flex-wrap:wrap; gap:6px; align-items:flex-start; font-size:clamp(16px,1.8vw,20px)}
    .back-line strong{min-width:120px}

    .bottom-bar{position:absolute; left:20px; bottom:20px; display:flex; gap:10px; align-items:center; z-index:3}
    .nav-btn{background:transparent;border:2px solid rgba(0,0,0,0.06); padding:10px 14px;border-radius:8px; cursor:pointer; font-size:clamp(14px,1.8vw,18px)}

    .menu-btn{position:absolute; left:20px; top:20px; background:transparent; border:2px solid rgba(0,0,0,0.06); padding:10px 14px;border-radius:10px; cursor:pointer; font-size:clamp(14px,1.8vw,18px); z-index:3}

    .menu-overlay{position:fixed; inset:0; background:rgba(0,0,0,0.5); display:none; align-items:center; justify-content:center; z-index:10}
    .menu-overlay.open{display:flex}
    .menu{width:90vw; max-width:900px; max-height:80vh; background:white; border-radius:14px; padding:24px; overflow:auto}
    .menu h2{margin:0 0 16px; font-size:clamp(20px,3vw,28px)}
    .card-list{display:grid; grid-template-columns:repeat(auto-fill,minmax(220px,1fr)); gap:14px}
    .card-tile{display:flex; flex-direction:column; gap:6px; padding:14px; border-radius:10px; background:#fbfffe; cursor:pointer; border:1px solid rgba(0,0,0,0.06); font-size:clamp(14px,1.5vw,18px)}
    .card-tile small{color:var(--muted)}
  </style>
</head>
<body>
  <div class="stage">
    <!-- Buttons above the card -->
    <div class="controls">
      <button class="btn" id="flipBtn">Flip</button>
      <button class="btn" id="randomBtn">Random</button>
      <button class="btn secondary" id="openMenu">Menu</button>
    </div>

    <div class="card-wrap">
      <div class="card" id="card">
        <div class="face front">
          <div style="display:flex;align-items:center;gap:24px;width:100%">
            <div style="flex:1">
              <div class="symbol" id="symbol">üå≥</div>
              <h1 class="atua" id="atuaName">TƒÅne Mahuta</h1>
              <div class="quote" id="quote">Tipuna o te ngahere, kaitiaki o ngƒÅ manu.</div>
              <div class="meta">
                <div class="pill" id="domain">Forests & birds</div>
                <div class="pill" id="relation">Son of Rangi & Papa</div>
              </div>
            </div>
          </div>
        </div>

        <div class="face back" id="backContent">
          <div class="back-line"><strong>Family:</strong> <span id="family">Son of Ranginui and Papat≈´ƒÅnuku</span></div>
          <div class="back-line"><strong>Domain:</strong> <span id="domainBack">Forests, birds, and trees</span></div>
          <div class="back-line"><strong>Relationships:</strong> <span id="relationships">Created Hineahuone, brother to Tangaroa, T≈´matauenga, TƒÅwhirimƒÅtea</span></div>
          <div class="back-line"><strong>Story:</strong> <span id="story">Separated his parents to let light into the world</span></div>
          <div class="back-line"><strong>Values:</strong> <span id="values">Growth, guardianship of life</span></div>
        </div>
      </div>

      <div class="bottom-bar">
        <button class="nav-btn" id="prevBtn">‚óÄ Prev</button>
        <div style="font-weight:700" id="position">1 / 12</div>
        <button class="nav-btn" id="nextBtn">Next ‚ñ∂</button>
      </div>
    </div>

    <div class="menu-overlay" id="menuOverlay">
      <div class="menu">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
          <h2>All Atua</h2>
          <button class="btn secondary" id="closeMenu">Close</button>
        </div>
        <div class="card-list" id="cardList"></div>
      </div>
    </div>
  </div>

  <script>
    const CARDS = [
      {
        name: 'Ranginui',
        symbol: '‚òÅÔ∏è',
        quote: 'Sky father',
        family: 'Partner: Papat≈´ƒÅnuku',
        domain: 'Sky',
        relationships: 'Father of TƒÅne, Tangaroa, T≈´matauenga, TƒÅwhirimƒÅtea, Rongo, Haumia-tiketike',
        story: 'Embraced Papat≈´ƒÅnuku until their children separated them',
        values: 'Origins, vastness'
      },
      {
        name: 'Papat≈´ƒÅnuku',
        symbol: 'üåè',
        quote: 'Earth mother',
        family: 'Partner: Ranginui',
        domain: 'Earth',
        relationships: 'Mother of TƒÅne, Tangaroa, T≈´matauenga, TƒÅwhirimƒÅtea, Rongo, Haumia-tiketike',
        story: 'Nurtures all life',
        values: 'Nurture, grounding'
      },
      {
        name: 'TƒÅne Mahuta',
        symbol: 'üå≥',
        quote: 'Forests and birds',
        family: 'Son of Ranginui and Papat≈´ƒÅnuku',
        domain: 'Forests & birds',
        relationships: 'Created Hineahuone, brother to Tangaroa, T≈´matauenga, TƒÅwhirimƒÅtea',
        story: 'Separated his parents to let light into the world',
        values: 'Growth, guardianship of life'
      },
      {
        name: 'Tangaroa',
        symbol: 'üåä',
        quote: 'God of the sea',
        family: 'Son of Ranginui and Papat≈´ƒÅnuku',
        domain: 'Sea & creatures',
        relationships: 'Brother to TƒÅne, enemy to TƒÅwhirimƒÅtea',
        story: 'Ruler of the oceans',
        values: 'Respect for the sea'
      },
      {
        name: 'TƒÅwhirimƒÅtea',
        symbol: 'üå¨Ô∏è',
        quote: 'God of storms',
        family: 'Son of Ranginui and Papat≈´ƒÅnuku',
        domain: 'Weather & winds',
        relationships: 'Angry at siblings for separating parents',
        story: 'Breathes storms across the world',
        values: 'Power of nature'
      },
      {
        name: 'T≈´matauenga',
        symbol: '‚öîÔ∏è',
        quote: 'War and humans',
        family: 'Son of Ranginui and Papat≈´ƒÅnuku',
        domain: 'War & humans',
        relationships: 'Clashes with brothers for human benefit',
        story: 'Stands as the atua of humanity and conflict',
        values: 'Courage, action'
      },
      {
        name: 'Rongo',
        symbol: 'üåæ',
        quote: 'Peace and cultivated food',
        family: 'Son of Ranginui and Papat≈´ƒÅnuku',
        domain: 'Agriculture, peace',
        relationships: 'Brother to Haumia-tiketike',
        story: 'Promotes cultivation and peace among people',
        values: 'Peace, wellbeing'
      },
      {
        name: 'Haumia-tiketike',
        symbol: 'ü•î',
        quote: 'Wild foods',
        family: 'Son of Ranginui and Papat≈´ƒÅnuku',
        domain: 'Uncultivated plants',
        relationships: 'Brother to Rongo',
        story: 'Keeper of wild foods',
        values: 'Resilience, resourcefulness'
      },
      {
        name: 'Hineahuone',
        symbol: 'ü™®',
        quote: 'First woman',
        family: 'Created by TƒÅne Mahuta',
        domain: 'Beginnings',
        relationships: 'Ancestor of Hine-tƒ´tama',
        story: 'Formed from earth by TƒÅne',
        values: 'Human origins'
      },
      {
        name: 'Hine-nui-te-p≈ç',
        symbol: 'üåô',
        quote: 'Goddess of night and death',
        family: 'Daughter of TƒÅne Mahuta',
        domain: 'Death & afterlife',
        relationships: 'Guardian of the underworld',
        story: 'Receives souls of the dead',
        values: 'Transition, endings'
      },
      {
        name: 'MƒÅui',
        symbol: 'ü™ù',
        quote: 'Demigod, trickster',
        family: 'Ancestor figure',
        domain: 'Change & ingenuity',
        relationships: 'Trickster hero with many exploits',
        story: 'Fished up islands and slowed the sun',
        values: 'Ingenuity, cleverness'
      },
      {
        name: 'Whiro',
        symbol: 'üñ§',
        quote: 'Darkness',
        family: 'Opposing force to light',
        domain: 'Illness & misfortune',
        relationships: 'Opposes light and goodness',
        story: 'Represents challenge and danger',
        values: 'Caution, awareness'
      }
    ];

    const cardEl = document.getElementById('card');
    const flipBtn = document.getElementById('flipBtn');
    const randomBtn = document.getElementById('randomBtn');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const position = document.getElementById('position');
    const openMenuBtn = document.getElementById('openMenu');
    const menuOverlay = document.getElementById('menuOverlay');
    const closeMenuBtn = document.getElementById('closeMenu');
    const cardList = document.getElementById('cardList');

    let index = 0;

    function renderCard(i){
      const d = CARDS[i];
      document.getElementById('symbol').textContent = d.symbol;
      document.getElementById('atuaName').textContent = d.name;
      document.getElementById('quote').textContent = d.quote;
      document.getElementById('domain').textContent = d.domain;
      document.getElementById('relation').textContent = d.family;
      document.getElementById('family').textContent = d.family;
      document.getElementById('domainBack').textContent = d.domain;
      document.getElementById('relationships').textContent = d.relationships;
      document.getElementById('story').textContent = d.story;
      document.getElementById('values').textContent = d.values;
      position.textContent = (i+1) + ' / ' + CARDS.length;
      cardEl.classList.remove('is-flipped');
    }

    function buildMenu(){
      cardList.innerHTML='';
      CARDS.forEach((c,i)=>{
        const tile = document.createElement('button');
        tile.className='card-tile';
        tile.innerHTML=`<strong>${c.symbol} ${c.name}</strong><small>${c.domain}</small>`;
        tile.addEventListener('click',()=>{index=i; renderCard(index); closeMenuOverlay();});
        cardList.appendChild(tile);
      });
    }

    function next(){ index=(index+1)%CARDS.length; renderCard(index); }
    function prev(){ index=(index-1+CARDS.length)%CARDS.length; renderCard(index); }
    function randomize(){ index=Math.floor(Math.random()*CARDS.length); renderCard(index); }
    function toggleFlip(){ cardEl.classList.toggle('is-flipped'); }
    function openMenuOverlay(){ menuOverlay.classList.add('open'); }
    function closeMenuOverlay(){ menuOverlay.classList.remove('open'); }

    flipBtn.addEventListener('click',toggleFlip);
    randomBtn.addEventListener('click',randomize);
    prevBtn.addEventListener('click',prev);
    nextBtn.addEventListener('click',next);
    openMenuBtn.addEventListener('click',openMenuOverlay);
    closeMenuBtn.addEventListener('click',closeMenuOverlay);
    menuOverlay.addEventListener('click', e=>{if(e.target===menuOverlay) closeMenuOverlay();});
    cardEl.addEventListener('click', e=>{if(!e.target.closest('.btn')) toggleFlip();});

    document.addEventListener('keydown', e=>{
      if(menuOverlay.classList.contains('open')){ if(e.key==='Escape') closeMenuOverlay(); return;}
      if(e.key==='ArrowRight') next();
      if(e.key==='ArrowLeft') prev();
      if(e.key===' ') toggleFlip();
      if(e.key==='m') openMenuOverlay();
    });

    buildMenu();
    renderCard(index);
  </script>
</body>
</html>
